@model IEnumerable<Model.ViewModel.CatalogoEmpresaDTO>



@foreach (var item in Model)
{
    <img src="@item.imagePath" alt="@item.whatsappLink">
   
}

<script>
    const current = document.querySelector('#current');
    const imgs = document.querySelector('.imgs');
    const img = document.querySelectorAll('.imgs img');
    const lnk = document.getElementById('walnk');
    const opacity = 0.6;
    // Get the modal
    var modal = document.getElementById("modalCatalogo");


    // Get the <span> element that closes the modal
    var span = document.getElementById("closeCatalog");

    // Set first img opacity
    img[0].style.opacity = opacity;

    imgs.addEventListener('click', imgClick);

    function imgClick(e) {
        // Reset the opacity
        img.forEach(img => (img.style.opacity = 1));

        // Change current image to src of clicked image
        current.src = e.target.src;
        lnk.setAttribute('href', e.target.alt);

        // Add fade in class
        current.classList.add('fade-in');
        modal.style.display = "block";


        // Remove fade-in class after .5 seconds
        setTimeout(() => current.classList.remove('fade-in'), 500);

        // Change the opacity to opacity var
        e.target.style.opacity = opacity;

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }
    }


    span.onclick = function () {
        modal.style.display = "none";
    }
</script>